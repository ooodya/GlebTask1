<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
	<a th:href="@{/logout}">
   		<button>Log out</button>
	</a>
	<p> </p>

	<h1
		th:text="${'Hello ' + user.getFirstname() + ' ' + user.getLastname()}"></h1>
	<p></p>

	<table>
		<thead>
	        <tr>
	            <th align="left" width="200" th:text="Number"></th>
				<th align="left" width="200" th:text = "Amount"></th>
	        </tr>
    	</thead>
		<tbody>
	        <tr th:each="account : ${user.getAccounts()}">
	            <td width="200"><span th:text="${account.getAccountNumber()}"></span></td>
	            <td width="200"><span th:text="${account.getAmount()}"></span></td>
	            <td>
	            	<form th:action="@{/chooseAccount}" method="POST">
	            		<input type="hidden" name="chosenAccount" id="chosenAccount" th:value="${account.getAccountNumber()}"/>
						<input type="submit" value="Choose account"></input>
					</form>
				</td>
	        </tr>
	    </tbody>
    </table>
	
	<p></p>
	<form action="#" class="button" th:action="@{/addAccount}" th:object="${user}" method="POST">
		<input type="submit" value="Add account" />
	</form>
	<p>
		<span style="color:red" th:text="${tooMuchAccounts}"></span>
	</p>
	
</body>
</html>