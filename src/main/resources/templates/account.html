<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<body>
	<a th:href="@{/logout}">
		<button>Log out</button>
	</a>
	<p></p>

	<table>
		<thead>
			<tr>
				<th align="left" width="200" th:text="Number"></th>
				<th align="left" width="200" th:text="Amount"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td width="200" th:text="${account.getAccountNumber()}"></td>
				<td width="200" th:text="${account.getAmount()}"></td>
				<td>
					<form th:action="@{/addAmount}" method="POST">
						<input type="number" name="amount" id="amount"/> 
						<input type="hidden" name="accountNumber" id="accountNumber" th:value="${account.getAccountNumber()}"/> 
						<input type="submit" value="Add money"></input>
					</form>
				</td>
			</tr>
		</tbody>
	</table>
	
	<p></p>
	<p></p>
	<h3>Money transfer</h3>
	
	<p>
		<span style="color:green" th:if ="${transferSuccess != null}" th:text = "#{account.transfer.success}"></span>
		<span style="color:red" th:if ="${transferFail != null}" th:text = "#{account.transfer.fail}"></span>
	</p>
	
	<table>
		<thead>
			<tr>
				<th align="left" th:text="'Destination number.................' +  'Amount'"></th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td >
					<form th:action="@{/transferMoney}" method="POST">
						<input type="hidden" name="accountNumber" id="accountNumber" th:value="${account.getAccountNumber()}"/> 
						<input type="number" name="destinationAccountNumber" id="destinationAccountNumber"/> 
						<input type="number" name="transferAmount" id="transferAmount"/> 
						<input type="submit" value="Transfer money"></input>
					</form>
				</td>
			</tr>
		</tbody>
	</table>
	
	<p>
		<span style="color:red" th:if ="${transferDestinationAccountError != null}" th:text = "#{account.transfer.destinationAccount.empty}"></span>
		<span style="color:red" th:if ="${transferAmountError != null}" th:text = "#{account.transfer.amount.empty}"></span>
	</p>

	<p></p>
	<p></p>
	<p></p>
	<a th:href="@{/userAccounts}">
		<button>My accounts</button>
	</a>
</body>
</html>